<!DOCTYPE html>
<html>
	<head>
		<title>CLXNetworks / js-api > example: getOperators()</title>
		<meta charset="utf-8" />
		
		<script src="clxApi.js"></script>
		<script src="clxHttpTest.js"></script>
	</head>

	<body>
		<h1>getOperators()</h1>
		<h2>Fetched data:</h2>
		<div style="font-size: 18px;" id="content"></div>

		<script type="text/javascript">
		window.onload = function () {
			// Create a configuration object.
			// The required fields are the ones below.
			var config = {
				'username': 'username',
				'password': 'password',
				'http': new clx.httpTest()
			};

			try {
				// Initiate an instance of the wrapper class.
				var obj = new clx.api(config);

				// The function call takes a callback and your requested data
				// gets injected as an argument.
				obj.getOperators(function (status, operators) {
					if (status === 200) {
						// Print the number of operators found.
						document.getElementById('content').innerHTML = 'Number of operators found: ' + operators.length;

						/**
						 * for (var i = 0; i < operators.length; i++) {
						 * 	  // Do something with each operator.
						 * }
						 */

						// Properties of each operator:
						// 1. id
						// 2. name
						// 3. type
					}

					else {
						// The request was successful but no content was found.
					}
				});
			}

			catch (e) {
				// Something went wrong with the request!
				// For the sake of this example we throw.
				throw e;
			}
		}
		</script>
	</body>
</html>